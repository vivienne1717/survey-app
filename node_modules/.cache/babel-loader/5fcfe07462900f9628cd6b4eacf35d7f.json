{"ast":null,"code":"var _jsxFileName = \"/Users/wei/Desktop/Project/Recommendation/Pre-exp Survey/latest website/survey-app/src/Pages/Step1Survey.jsx\";\nimport React from \"react\";\nimport \"./Step1Survey.css\";\nimport { Modal, Button, Radio, InputNumber, Checkbox, message } from 'antd';\nimport Cookies from 'universal-cookie';\nexport default class Step1Survey extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: true,\n      instructionVisible: false,\n      instruction: 'Please select and rate 15 movies that you have watched. You can browse the movie list according to the released year and genre of movies. After you rating 15 movies, 5 out of those 15 movies will be randomly chosen and presented to you. Please answer 4 questions for each movie.',\n      age: null,\n      gender: null,\n      selectedGenere: [],\n      favouriteGenere: [],\n      ctrl3: null,\n      ctrl4: null,\n      survey1: null\n    };\n\n    this.onGenderChange = e => {\n      console.log('radio checked', e.target.value);\n      this.setState({\n        gender: e.target.value\n      });\n    };\n\n    this.onCtrl3Change = e => {\n      console.log('radio checked', e.target.value);\n      this.setState({\n        ctrl3: e.target.value\n      });\n    };\n\n    this.onCtrl4Change = e => {\n      console.log('radio checked', e.target.value);\n      this.setState({\n        ctrl4: e.target.value\n      });\n    };\n\n    this.onAgeChange = value => {\n      console.log(\"varibale \" + window.surveyTwoAComplete);\n      this.setState({\n        age: value\n      });\n    };\n\n    this.onGenreChange = checkedValues => {\n      console.log('checked = ', checkedValues);\n      this.setState({\n        selectedGenere: checkedValues\n      });\n    };\n\n    this.validateAns = () => {\n      var gender = this.state.gender;\n      var age = this.state.age;\n      var selectedGenere = this.state.selectedGenere;\n      var favouriteGenere = this.state.favouriteGenere;\n      var ctrl3 = this.state.ctrl3;\n      var ctrl4 = this.state.ctrl4;\n\n      if (gender === null) {\n        message.error('Please enter your gender');\n        return false;\n      }\n\n      if (age === null) {\n        message.error('Please enter your age');\n        return false;\n      }\n\n      if (selectedGenere.length !== 3) {\n        message.error('Please complete question 3');\n        return false;\n      } // if (favouriteGenere.length !== 3) {\n      //     message.error('Please select 3 favorite genres in question')\n      //     return false;\n      // }\n\n\n      if (ctrl3 == null) {\n        message.error('Please complete question 4');\n        return false;\n      }\n\n      if (ctrl4 == null) {\n        message.error('Please complete question 5');\n        return false;\n      }\n\n      return true;\n    };\n\n    this.next = () => {\n      if (this.validateAns()) {\n        var survey1 = {};\n        survey1['age'] = this.state.age;\n        survey1['gender'] = this.state.gender;\n        survey1['selectedGenere'] = this.state.selectedGenere;\n        survey1['favouriteGenere'] = this.state.favouriteGenere;\n        survey1['ans'] = [parseInt(this.state.ctrl3), parseInt(this.state.ctrl4)];\n        const cookies = new Cookies();\n        cookies.set('survey1', survey1, {\n          path: '/'\n        });\n        console.log(\"step 1 \" + JSON.stringify(survey1));\n        this.setState({\n          visible: false,\n          instructionVisible: true\n        });\n      }\n    };\n\n    this.handleInstructionOk = () => {\n      this.setState({\n        instructionVisible: false\n      });\n    };\n  }\n\n  componentWillMount() {\n    const cookies = new Cookies();\n    cookies.remove('survey1', {\n      path: '/'\n    });\n    cookies.remove('survey2', {\n      path: '/'\n    });\n    cookies.remove('survey3', {\n      path: '/'\n    });\n    cookies.remove('survey2a', {\n      path: '/'\n    });\n  }\n\n  //for question 3 original - choose 3 from several watched genres\n  // onFavouriteGenreChange = checkedValues => {\n  //     console.log('checked = ', checkedValues);\n  //     if (checkedValues.length > 3) {\n  //         message.warning('Please select 3 only')\n  //     }\n  //     this.setState({\n  //         favouriteGenere: checkedValues\n  //     })\n  // }\n  toOptions(selectedGenere) {\n    var options = [];\n    selectedGenere.forEach(o => {\n      var option = {\n        label: o,\n        value: o\n      };\n      options.push(o);\n    });\n    return options;\n  }\n\n  render() {\n    message.config({\n      top: 300,\n      duration: 2,\n      maxCount: 3\n    });\n    const options = [{\n      label: 'Action',\n      value: 'Action'\n    }, {\n      label: 'Adventure',\n      value: 'Adventure'\n    }, {\n      label: 'Animation',\n      value: 'Animation'\n    }, {\n      label: 'Comedy',\n      value: 'Comedy'\n    }, {\n      label: 'Crime',\n      value: 'Crime'\n    }, {\n      label: 'Documentary',\n      value: 'Documentary'\n    }, {\n      label: 'Drama',\n      value: 'Drama'\n    }, {\n      label: 'Family',\n      value: 'Family'\n    }, {\n      label: 'Fantasy',\n      value: 'Fantasy'\n    }, {\n      label: 'History',\n      value: 'History'\n    }, {\n      label: 'Horror',\n      value: 'Horror'\n    }, {\n      label: 'Music',\n      value: 'Music'\n    }, {\n      label: 'Mystery',\n      value: 'Mystery'\n    }, {\n      label: 'Romance',\n      value: 'Romance'\n    }, {\n      label: 'Science fiction',\n      value: 'Science fiction'\n    }, {\n      label: 'Thriller',\n      value: 'Thriller'\n    }, {\n      label: 'War',\n      value: 'War'\n    }, {\n      label: 'Western',\n      value: 'Western'\n    }, {\n      label: 'Others',\n      value: 'Others'\n    }];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: this.state.visible,\n      title: \"Survey Part 1\",\n      onOk: this.handleOk,\n      width: window.innerWidth - 100,\n      closable: false,\n      maskClosable: false,\n      footer: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"1. Your gender:\"), React.createElement(Radio.Group, {\n      onChange: this.onGenderChange,\n      value: this.state.gender,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Radio, {\n      value: 'F',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Female\"), React.createElement(Radio, {\n      value: 'M',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Male\"))), React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"2. Age:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(InputNumber, {\n      min: 1,\n      max: 99,\n      onChange: this.onAgeChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"3.  Which of the following genres of movies do you like best? (Please select 3 genres)\"), React.createElement(Checkbox.Group, {\n      options: options,\n      onChange: this.onGenreChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"4. Most of movies that I have watched fall in the three genres selected above.\"), React.createElement(Radio.Group, {\n      onChange: this.onCtrl3Change,\n      value: this.state.ctrl3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Strongly Disagree \\u2002\", React.createElement(Radio, {\n      value: '1',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"1\"), React.createElement(Radio, {\n      value: '2',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"2\"), React.createElement(Radio, {\n      value: '3',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"3\"), React.createElement(Radio, {\n      value: '4',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"4\"), React.createElement(Radio, {\n      value: '5',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"5\"), React.createElement(Radio, {\n      value: '6',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"6\"), React.createElement(Radio, {\n      value: '7',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"7 \\xA0 Strongly Agree\"))), React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"5. I always like movies that are similar in terms of genre.\"), React.createElement(Radio.Group, {\n      onChange: this.onCtrl4Change,\n      value: this.state.ctrl4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Strongly Disagree \\u2002\", React.createElement(Radio, {\n      value: '1',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"1\"), React.createElement(Radio, {\n      value: '2',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"2\"), React.createElement(Radio, {\n      value: '3',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"3\"), React.createElement(Radio, {\n      value: '4',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"4\"), React.createElement(Radio, {\n      value: '5',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"5\"), React.createElement(Radio, {\n      value: '6',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"6\"), React.createElement(Radio, {\n      value: '7',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"7 \\xA0 Strongly Agree\"))), React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        marginLeft: 8\n      },\n      type: \"primary\",\n      onClick: () => this.next(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Proceed to Part 2\"))), React.createElement(Modal, {\n      visible: this.state.instructionVisible,\n      title: \"Survey Part 2\",\n      onOk: this.handleOk // width={1000}\n      ,\n      width: window.innerWidth - 600,\n      closable: false,\n      maskClosable: false,\n      footer: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Instruction:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), this.state.instruction), React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        marginLeft: 8\n      },\n      type: \"primary\",\n      onClick: () => this.handleInstructionOk(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \"Proceed\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/wei/Desktop/Project/Recommendation/Pre-exp Survey/latest website/survey-app/src/Pages/Step1Survey.jsx"],"names":["React","Modal","Button","Radio","InputNumber","Checkbox","message","Cookies","Step1Survey","Component","state","visible","instructionVisible","instruction","age","gender","selectedGenere","favouriteGenere","ctrl3","ctrl4","survey1","onGenderChange","e","console","log","target","value","setState","onCtrl3Change","onCtrl4Change","onAgeChange","window","surveyTwoAComplete","onGenreChange","checkedValues","validateAns","error","length","next","parseInt","cookies","set","path","JSON","stringify","handleInstructionOk","componentWillMount","remove","toOptions","options","forEach","o","option","label","push","render","config","top","duration","maxCount","handleOk","innerWidth","textAlign","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Step1Survey.css\";\nimport { Modal, Button, Radio, InputNumber, Checkbox, message } from 'antd';\nimport Cookies from 'universal-cookie';\n\nexport default class Step1Survey extends React.Component {\n\n    /* example of this.props.movie\n          \"movieId\": 180471,\n      \"title\": \"The Venerable W.\",\n      \"directedBy\": \"Barbet Schroeder\",\n      \"starring\": \"Bulle Ogier,Barbet Schroeder,Ashin Wirathu\",\n      \"imdbId\": \"6642870\",\n      \"genres\": \"Documentary\",\n      \"year\": 2017,\n      \"posterURL\": \"https://m.media-amazon.com/images/M/MV5BMjI0MDUxNTAzOF5BMl5BanBnXkFtZTgwOTEwOTIzMjI@._V1_SX300.jpg\"\n    \n    */\n    state = {\n        visible: true,\n        instructionVisible: false,\n        instruction: 'Please select and rate 15 movies that you have watched. You can browse the movie list according to the released year and genre of movies. After you rating 15 movies, 5 out of those 15 movies will be randomly chosen and presented to you. Please answer 4 questions for each movie.',\n\n        age: null,\n        gender: null,\n        selectedGenere: [],\n        favouriteGenere: [],\n        ctrl3: null,\n        ctrl4: null,\n        survey1: null\n    }\n    componentWillMount(){\n        const cookies = new Cookies();\n        cookies.remove('survey1', { path: '/' });\n        cookies.remove('survey2', { path: '/' });\n        cookies.remove('survey3', { path: '/' });\n        cookies.remove('survey2a', { path: '/' });\n    }\n    onGenderChange = e => {\n        console.log('radio checked', e.target.value);\n        this.setState({\n            gender: e.target.value,\n        });\n    };\n\n    onCtrl3Change = e => {\n        console.log('radio checked', e.target.value);\n        this.setState({\n            ctrl3: e.target.value,\n        });\n    };\n    onCtrl4Change = e => {\n        console.log('radio checked', e.target.value);\n        this.setState({\n            ctrl4: e.target.value,\n        });\n    };\n\n\n\n    onAgeChange = value => {\n        console.log(\"varibale \" + window.surveyTwoAComplete)\n        this.setState({\n            age: value\n        })\n    }\n\n    onGenreChange = checkedValues => {\n        console.log('checked = ', checkedValues);\n        this.setState({\n            selectedGenere: checkedValues\n        })\n    }\n\n    //for question 3 original - choose 3 from several watched genres\n    // onFavouriteGenreChange = checkedValues => {\n    //     console.log('checked = ', checkedValues);\n    //     if (checkedValues.length > 3) {\n    //         message.warning('Please select 3 only')\n    //     }\n    //     this.setState({\n    //         favouriteGenere: checkedValues\n    //     })\n    // }\n\n    toOptions(selectedGenere) {\n        var options = []\n\n        selectedGenere.forEach(o => {\n            var option = {\n                label: o,\n                value: o\n            }\n            options.push(o)\n        });\n\n        return options;\n    }\n\n    validateAns = () => {\n        var gender = this.state.gender\n        var age = this.state.age\n        var selectedGenere = this.state.selectedGenere\n        var favouriteGenere = this.state.favouriteGenere\n        var ctrl3 = this.state.ctrl3\n        var ctrl4 = this.state.ctrl4\n\n        if (gender === null) {\n            message.error('Please enter your gender')\n            return false;\n        }\n        if (age === null) {\n            message.error('Please enter your age')\n            return false;\n        }\n        if (selectedGenere.length !== 3) {\n            message.error('Please complete question 3')\n            return false;\n        }\n        // if (favouriteGenere.length !== 3) {\n        //     message.error('Please select 3 favorite genres in question')\n        //     return false;\n        // }\n        if (ctrl3 == null) {\n            message.error('Please complete question 4')\n            return false;\n        }\n        if (ctrl4 == null) {\n            message.error('Please complete question 5')\n            return false;\n        }\n        return true\n    }\n\n    // showFavouriteGenre() {\n    //     var genres = this.state.selectedGenere\n    //     if (genres.length > 3)\n    //         return true\n    //     else\n    //         return false;\n    // }\n\n    next = () => {\n        if (this.validateAns()) {\n            var survey1 = {}\n            survey1['age'] = this.state.age\n            survey1['gender'] = this.state.gender\n            survey1['selectedGenere'] = this.state.selectedGenere\n            survey1['favouriteGenere'] = this.state.favouriteGenere\n            survey1['ans'] = [parseInt(this.state.ctrl3), parseInt(this.state.ctrl4)]\n            const cookies = new Cookies();\n            cookies.set('survey1', survey1, { path: '/' });\n            console.log(\"step 1 \" + JSON.stringify(survey1))\n            this.setState({\n                visible: false,\n                instructionVisible: true\n            });\n        }\n    }\n\n    handleInstructionOk = () => {\n       this.setState({\n           instructionVisible:false\n       })\n    }\n    render() {\n        message.config({\n            top: 300,\n            duration: 2,\n            maxCount: 3,\n        });\n\n        const options = [\n            { label: 'Action', value: 'Action' },\n            { label: 'Adventure', value: 'Adventure' },\n            { label: 'Animation', value: 'Animation' },\n            { label: 'Comedy', value: 'Comedy' },\n            { label: 'Crime', value: 'Crime' },\n            { label: 'Documentary', value: 'Documentary' },\n            { label: 'Drama', value: 'Drama' },\n            { label: 'Family', value: 'Family' },\n            { label: 'Fantasy', value: 'Fantasy' },\n            { label: 'History', value: 'History' },\n            { label: 'Horror', value: 'Horror' },\n            { label: 'Music', value: 'Music' },\n            { label: 'Mystery', value: 'Mystery' },\n            { label: 'Romance', value: 'Romance' },\n            { label: 'Science fiction', value: 'Science fiction' },\n            { label: 'Thriller', value: 'Thriller' },\n            { label: 'War', value: 'War' },\n            { label: 'Western', value: 'Western' },\n            { label: 'Others', value: 'Others' },\n        ];\n\n        return (\n\n            <div>\n                <Modal\n                    visible={this.state.visible}\n                    title=\"Survey Part 1\"\n                    onOk={this.handleOk}\n                    width={window.innerWidth-100}\n                    closable={false}\n                    maskClosable={false}\n                    footer={null}\n                >\n                    {/* <div className='question'>\n                            Please answer the following questions and then proceed to Part 2.\n                    </div> */}\n\n                    <div className='question'>\n                        <div className='title'>\n                            1. Your gender:\n                    </div>\n                        <Radio.Group onChange={this.onGenderChange} value={this.state.gender}>\n                            <Radio value={'F'}>Female</Radio>\n                            <Radio value={'M'}>Male</Radio>\n                        </Radio.Group>\n                    </div>\n                    <div className='question'>\n                        <div className='title'>\n                            2. Age:<br /><InputNumber min={1} max={99} onChange={this.onAgeChange} />\n                        </div>\n                    </div>\n\n                    <div className='question'>\n                        <div className='title'>\n                           3.  Which of the following genres of movies do you like best? (Please select 3 genres)\n                        </div>\n                        <Checkbox.Group options={options} onChange={this.onGenreChange} />\n                    </div>\n                    {/* <div className={this.showFavouriteGenre() ? 'question' : 'hidden'} >\n                        <div className='title'>\n                             Among the above choices, please select three genres of movies that you like best.\n                        </div>\n                        <Checkbox.Group options={this.toOptions(this.state.selectedGenere)} onChange={this.onFavouriteGenreChange} />\n                    </div> */}\n                    \n                    <div className='question'>\n                        <div className='title'>\n                            4. Most of movies that I have watched fall in the three genres selected above.\n                    </div>\n                        <Radio.Group onChange={this.onCtrl3Change} value={this.state.ctrl3}>\n                            Strongly Disagree &ensp;\n                            <Radio value={'1'}>1</Radio>\n                            <Radio value={'2'}>2</Radio>\n                            <Radio value={'3'}>3</Radio>\n                            <Radio value={'4'}>4</Radio>\n                            <Radio value={'5'}>5</Radio>\n                            <Radio value={'6'}>6</Radio>\n                            <Radio value={'7'}>7 &nbsp; Strongly Agree</Radio>\n                        </Radio.Group>\n                    </div>\n                  \n                    <div className='question'>\n                        <div className='title'>\n                            5. I always like movies that are similar in terms of genre.\n                        </div>\n                        <Radio.Group onChange={this.onCtrl4Change} value={this.state.ctrl4}>\n                            Strongly Disagree &ensp;\n                            <Radio value={'1'}>1</Radio>\n                            <Radio value={'2'}>2</Radio>\n                            <Radio value={'3'}>3</Radio>\n                            <Radio value={'4'}>4</Radio>\n                            <Radio value={'5'}>5</Radio>\n                            <Radio value={'6'}>6</Radio>\n                            <Radio value={'7'}>7 &nbsp; Strongly Agree</Radio>\n                        </Radio.Group>\n                    </div>\n                    <div style={{ textAlign: \"right\" }}>\n                        <Button style={{ marginLeft: 8 }} type=\"primary\" onClick={() => this.next()}>\n                            Proceed to Part 2\n                        </Button>\n                    </div>\n                </Modal>\n                <Modal\n                    visible={this.state.instructionVisible}\n                    title=\"Survey Part 2\"\n                    onOk={this.handleOk}\n                    // width={1000}\n                    width={window.innerWidth-600}\n                    closable={false}\n                    maskClosable={false}\n                    footer={null}\n                >\n\n                    <div className='question'>\n                        Instruction: \n                        <br></br><br></br>\n                        {this.state.instruction}\n                    </div>\n\n                    <div style={{ textAlign: \"right\" }}>\n                        <Button style={{ marginLeft: 8 }} type=\"primary\" onClick={() => this.handleInstructionOk()}>\n                            Proceed\n                        </Button>\n                    </div>\n                </Modal>\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}